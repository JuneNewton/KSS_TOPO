"use-struct";const{workerData:workerData,parentPort:parentPort,threadId:threadId}=require("worker_threads"),WRITE_REDIS_INTERVAL=500,WRITE_REDIS_LIMIT=2e4;unHandledRedisData={},lastTime=100,parentPort.on("message",e=>{for(let t=0;t<e.length;++t){let a="real_"+e[t].N;unHandledRedisData[a]=JSON.stringify(e[t])}let t=Object.keys(unHandledRedisData).length,a=(new Date).getTime();if(t>=2e4||a-lastTime>=500){let e={tagInfo:unHandledRedisData},t=JSON.stringify(e);parentPort.postMessage(t),lastTime=a,unHandledRedisData={}}});